{
  "name": "command-dispatcher",
  "description": "test",
  "type": "module",
  "git": true,
  "provides": {
    "command-dispatcher": {
      "description": "Command dispatcher for running shell commands on schedule",
      "tags": ["local"],
      "subdirectory": "command-dispatcher",
      "added_by": "cfbs add",
      "steps": [
        "directory ./ services/cfbs/command-dispatcher/",
        "policy_files services/cfbs/command-dispatcher/main.cf",
        "bundles command_dispatcher:main",
        "input ./input.json def.json"
      ],
      "input": [
        {
          "type": "list",
          "variable": "commands_to_run",
          "namespace": "command_dispatcher",
          "bundle": "main",
          "label": "Command",
          "subtype": [
            {
              "key": "command",
              "type": "string",
              "label": "Command(s)",
              "question": "Command(s) to run"
            },
            {
              "key": "condition",
              "type": "string",
              "label": "Condition",
              "question": "Condition for when to run",
              "default": "any"
            },
            {
              "key": "ifelapsed",
              "type": "string",
              "label": "ifelapsed",
              "question": "ifelapsed?",
              "default": "5"
            }
          ],
          "while": "Do you want to specify more commands to be run?"
        }
      ]
    }
  }
}
